# 관계형 데이터베이스의 구성요소

## Database (데이터베이스)

- 테이블 및 다른 구성요소들을 모아놓은 집합입니다.
- **스키마**라고도 불리는데, 스키마라는 용어는 '데이터베이스'를 의미하기도 하고 **'데이터베이스의 구조'**를 의미하기도 합니다.
- 하나의 DBMS는 여러 개의 데이터베이스를 가질 수 있으며, 데이터베이스 단위로 **권한 설정**이 이루어집니다.

## User & Privilege (사용자 & 권한)

- 하나의 DBMS는 여러 개의 사용자 계정을 가질 수 있습니다.
- DBMS를 사용하려면 사용자 계정을 이용해 DBMS에 접속해야 합니다.
- 사용자 계정은 데이터베이스 별로 다른 권한을 가집니다.
- **root 유저**는 DBMS 초기 설치 시에 만들어지는 계정이며, DBMS에 대한 모든 권한을 부여받습니다.

## Connection (연결)

- 사용자 계정을 이용해 데이터베이스에 접속하면, 새 **커넥션**이 만들어집니다.
- **세션**과 유사한 개념입니다.
- 커넥션 별로 여러가지 옵션을 설정할 수 있고, **트랜잭션**도 커넥션 단위로 수행됩니다.

## Table (테이블)

- 하나의 데이터베이스는 여러 개의 테이블을 가질 수 있습니다.
- 표 형태로 구조화된 데이터가 테이블에 저장됩니다.
- 테이블의 **행(row)**은 개별적인 레코드를 나타내며, 테이블의 **열(column)**은 레코드의 속성을 나타냅니다. 각각의 열에는 미리 정의된 자료형에 해당하는 데이터만 저장될 수 있습니다.
- 테이블의 각 행은 기본 키(primary key)를 이용해 식별하고, 테이블 내에서 유일한 값이어야 합니다. 기본 키는 **다른 테이블과의 관계**를 나타낼 때 사용됩니다.

## Constraint (제약 조건)

제약 조건을 지정하면 테이블에 특정한 방식으로만 데이터가 저장될 수 있도록 할 수 있습니다. 아래 제약 조건들이 자주 사용됩니다.

- `NOT NULL` : 컬럼에 NULL 값이 저장되지 못하도록 막습니다.
- `UNIQUE` : 한 테이블 내에서 컬럼에 저장된 모든 값이 유일하도록 강제합니다.
- `PRIMARY KEY` : `NOT NULL`과 `UNIQUE`가 동시에 적용됩니다.
- `FOREIGN KEY` : 다른 테이블의 primary key를 참조하며, 해당 primary key를 가진 레코드가 변경되었을 때 특정 동작을 강제합니다.
- `DEFAULT` : `INSERT` 구문을 사용해서 레코드를 추가할 때, 컬럼에 아무런 값도 지정하지 않으면 `DEFAULT` 제약 조건으로 지정한 기본값이 저장되도록 합니다.
- `CHECK` : 레코드가 주어진 계산식을 만족해야만 하도록 `CHECK` 제약 조건을 지정할 수 있습니다.

```sql
CREATE TABLE adult (
  name varchar(255) NOT NULL,
  age int,
  CHECK (age >= 18)
);
```

## Primary Key, Foreign Key

Primary Key(기본 키)로 지정된 컬럼에 저장되어 있는 값은 테이블에 저장되어 있는 레코드의 식별자 역할을 합니다. Foreign Key(외래 키)로 지정된 컬럼에는 다른 테이블의 기본 키 값이 저장되며, 다른 테이블의 레코드를 **참조**함으로써 해당 테이블과의 관계를 나타냅니다.

여러 컬럼이 한꺼번에 기본 키로 지정될 수도 있습니다. 이를 Composite primary key(한국어로는 합성키, 혹은 슈퍼키라고 부름)라고 합니다.
